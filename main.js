(()=>{"use strict";var e={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},t=document.querySelector(".elements__container"),n=document.querySelector(".profile__avatar"),r=document.querySelector(".profile__name"),o=document.querySelector(".profile__profession"),i=document.querySelector(".popup__input_type_name"),a=document.querySelector(".popup__input_type_job"),c=document.querySelector(".profile__edit-btn"),u=document.querySelector(".profile__avatar-container"),s=document.querySelector(".profile__add-btn"),l=document.querySelector(".popup__button_type_edit"),f=document.querySelector(".popup__button_type_add"),p=document.querySelector(".popup__button_type_avatar"),h=document.querySelector(".popup__form_type_profile"),_=document.querySelector(".popup__form_type_element"),d=document.querySelector(".popup__form_type_avatar");function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=document.querySelector("#"+e.id+"-error");t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=document.querySelector("#"+e.id+"-error");t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_buttonState",value:function(e,t){e.every((function(e){return e.validity.valid}))?(t.classList.remove(this._inactiveButtonClass),t.disabled=!1):(t.classList.add(this._inactiveButtonClass),t.disabled=!0)}},{key:"_disableButton",value:function(e){e.classList.add(this._inactiveButtonClass)}},{key:"enableValidation",value:function(){var e=this;this._form.addEventListener("submit",(function(e){e.preventDefault()}));var t=Array.from(this._form.querySelectorAll(this._inputSelector)),n=this._form.querySelector(this._submitButtonSelector);this._form.addEventListener("reset",(function(){t.forEach((function(t){e._hideInputError(t)})),e._disableButton(n)})),this._buttonState(t,n),t.forEach((function(r){r.addEventListener("input",(function(){e._isValid(r),e._buttonState(t,n)}))}))}}])&&y(t.prototype,n),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const b=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._link=t.link,this._name=t.name,this._id=t._id,this._elementSelector=n,this._handleCardClick=r,this._handleDeleteButton=o}var t,n;return t=e,(n=[{key:"id",value:function(){return this._id}},{key:"_getCardTemplate",value:function(){return document.querySelector(this._elementSelector).content}},{key:"_handleLikeButton",value:function(e){e.target.classList.toggle("elements__like_active")}},{key:"_setEventListeners",value:function(){var e=this,t=this._card.querySelector(".elements__image"),n=this._card.querySelector(".elements__like"),r=this._card.querySelector(".elements__trash");n.addEventListener("click",(function(t){return e._handleLikeButton(t)})),r.addEventListener("click",(function(){return e._handleDeleteButton(e.id())})),t.addEventListener("click",(function(){return e._handleCardClick(e._name,e._link)}))}},{key:"generateCard",value:function(){this._card=this._getCardTemplate().querySelector(".elements__item").cloneNode(!0);var e=this._card.querySelector(".elements__image");return this._card.querySelector(".elements__title").textContent=this._name,e.style.backgroundImage="url(".concat(this._link,")"),e.alt="Picture of ".concat(this._name),this._setEventListeners(),this._card}}])&&m(t.prototype,n),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_active"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_active"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(e){var t=this;this._popupElement.querySelector(".popup__close-btn").addEventListener("click",(function(){t.close()})),this._popupElement.addEventListener("click",(function(e){e.target.classList.contains("popup_active")&&t.close()}))}}])&&g(t.prototype,n),e}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e){var t,n=e.popupSelector,r=e.submitHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._submitHandler=r,t}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return Array.from(this._form.querySelectorAll(".popup__input")).forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;w(j(a.prototype),"setEventListeners",this).call(this),this._form=this._popupElement.querySelector(".popup__form"),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler(e._getInputValues()),e.close()}))}},{key:"close",value:function(){w(j(a.prototype),"close",this).call(this),this._form.reset()}}])&&S(t.prototype,n),a}(E);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._popupElement.querySelector(".popup__image"),t._imageCaption=t._popupElement.querySelector(".popup__image-title"),t}return t=a,(n=[{key:"open",value:function(e,t){T(x(a.prototype),"open",this).call(this),this._image.src=t,this._image.alt="Picture of ".concat(e),this._imageCaption.textContent=e}}])&&q(t.prototype,n),a}(E);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const D=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._itemArray=r,this._renderer=o,this._cardContainer=n}var t,n;return t=e,(n=[{key:"renderer",value:function(){var e=this;this._itemArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._cardContainer.prepend(e)}}])&&B(t.prototype,n),e}();function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const A=function(){function e(t){var n=t.name,r=t.occupation,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._occupation=r,this._avatar=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,occupation:this._occupation.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e,t,n){this._name.textContent=e,this._occupation.textContent=t,this._avatar.src=n}}])&&H(t.prototype,n),e}();function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const N=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"getAppInfo",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"addLikeStatus",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeLikeStatus",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setProfileInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)})).catch((function(e){return console.log(e)}))}}])&&V(t.prototype,n),e}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(r);if(o){var n=K(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return G(this,e)});function a(e){var t,n=e.popupSelector,r=e.submitHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._submitHandler=r,t}return t=a,(n=[{key:"handleDelete",value:function(){this._card.remove()}},{key:"open",value:function(e,t){M(K(a.prototype),"open",this).call(this),this._data=e,this._cardItem=t}},{key:"setEventListeners",value:function(){var e=this;M(K(a.prototype),"setEventListeners",this).call(this),this._popupElement.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler(e._data),e.close()}))}}])&&z(t.prototype,n),a}(E);function W(e,t){t.textContent=e?"Saving...":"Saved"}var X=new N({baseUrl:"https://around.nomoreparties.co/v1/group-10",headers:{authorization:"5ba73148-e2fc-4c55-8f70-b1a18db29f75","Content-Type":"application/json"}});function Y(e){ie.open()}function Z(e,t){oe.open(e,t)}X.getInitialCards().then((function(e){var n=new D({items:e,renderer:function(e){n.addItem(o(e))}},t);n.renderer();var r=new P({popupSelector:".popup_type_add",submitHandler:function(e){W(!0,f),X.addCard(e).then((function(e){n.addItem(o({name:e.title,link:e.image})),W(!1,f)})).then((function(){r.close()})).catch((function(e){console.log(e)}))}});function o(e){return new b(e,".elements-template",Z,Y).generateCard($.id())}r.setEventListeners(),s.addEventListener("click",(function(){r.open()}))})),X.getUserInfo().then((function(e){$.setUserInfo(e.name,e.about,e.avatar)}));var $=new A({name:r,occupation:o,avatar:n}),ee=new v(e,h),te=new v(e,_),ne=new v(e,d);ee.enableValidation(),te.enableValidation(),ne.enableValidation();var re=new P({popupSelector:".popup_type_edit",submitHandler:function(e){W(!0,l),X.setProfileInfo({name:e.name,about:e.description,avatar:e.avatar}).then((function(e){$.setUserInfo(e.name,e.description,e.avatar),W(!1,l)})).then((function(){re.close()})).catch((function(e){console.log(e)}))}});re.setEventListeners(),c.addEventListener("click",(function(){var e=$.getUserInfo();i.value=e.name,a.value=e.occupation,re.open()}));var oe=new U(".popup_type_image");oe.setEventListeners();var ie=new Q({popupSelector:".popup_type_delete",submitHandler:function(e){X.removeCard(e).then((function(){ie.handleDelete(),ie.close()})).catch((function(e){console.log(e)}))}});ie.setEventListeners();var ae=new P({popupSelector:".popup_type_avatar",submitHandler:function(e){W(!0,p),X.setUserAvatar({avatar:e.avatar}).then((function(e){$.setUserInfo(e.name,e.description,e.avatar),W(!1,p)})).then((function(){ae.close()})).catch((function(e){console.log(e)}))}});ae.setEventListeners(),u.addEventListener("click",(function(){ae.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9tb2R1bGVzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL21vZHVsZXMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvbW9kdWxlcy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvbW9kdWxlcy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9tb2R1bGVzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9tb2R1bGVzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL21vZHVsZXMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL21vZHVsZXMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9tb2R1bGVzL1BvcHVwRGVsZXRlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbInZhbGlkYXRpb25PYmplY3QiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVsZW1lbnRzQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYXZhdGFySW1nIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImF2YXRhckVkaXRCdXR0b24iLCJjYXJkQWRkQnV0dG9uIiwicHJvZmlsZVNhdmVCdXR0b24iLCJjYXJkU2F2ZUJ1dHRvbiIsImF2YXRhclNhdmVCdXR0b24iLCJmb3JtU2F2ZVByb2ZpbGUiLCJmb3JtQWRkRWxlbWVudCIsImZvcm1BdmF0YXIiLCJvYmplY3QiLCJmb3JtRWxlbWVudCIsInRoaXMiLCJfZm9ybSIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJpbnB1dCIsImVycm9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0cyIsImJ1dHRvbiIsImV2ZXJ5IiwiZGlzYWJsZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiX2Rpc2FibGVCdXR0b24iLCJfYnV0dG9uU3RhdGUiLCJfaXNWYWxpZCIsImRhdGEiLCJlbGVtZW50U2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b24iLCJfbGluayIsImxpbmsiLCJfbmFtZSIsIm5hbWUiLCJfaWQiLCJfZWxlbWVudFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJjb250ZW50IiwidGFyZ2V0IiwidG9nZ2xlIiwiZWxlbWVudHNJbWFnZSIsIl9jYXJkIiwiZWxlbWVudHNMaWtlQnV0dG9uIiwiZWxlbWVudHNEZWxldGVCdXR0b24iLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9nZXRDYXJkVGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImFsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJjbG9zZSIsImNvbnRhaW5zIiwic3VibWl0SGFuZGxlciIsIl9zdWJtaXRIYW5kbGVyIiwiZm9ybVZhbHVlcyIsInZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cCIsIl9pbWFnZSIsIl9pbWFnZUNhcHRpb24iLCJzcmMiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1BcnJheSIsIl9yZW5kZXJlciIsIl9jYXJkQ29udGFpbmVyIiwiY2FyZCIsInByZXBlbmQiLCJvY2N1cGF0aW9uIiwiYXZhdGFyIiwiX29jY3VwYXRpb24iLCJfYXZhdGFyIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElEIiwiYWJvdXQiLCJjYXJkRGF0YSIsImNhcmRJdGVtIiwiX2RhdGEiLCJfY2FyZEl0ZW0iLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwicG9wdXBCdXR0b24iLCJhcGkiLCJBcGkiLCJhdXRob3JpemF0aW9uIiwicG9wdXBEZWxldGUiLCJvcGVuIiwiaGFuZENhcmRDbGljayIsInBvcHVwSW1hZ2UiLCJjYXJkcyIsIlNlY3Rpb24iLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsImFkZEVsZW1lbnRQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJpbnB1dFZhbHVlcyIsImFkZENhcmQiLCJ0aXRsZSIsImltYWdlIiwiQ2FyZCIsImdlbmVyYXRlQ2FyZCIsInVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJzZXRVc2VySW5mbyIsIlVzZXJJbmZvIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiYWRkRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJvZmlsZVBvcHVwIiwic2V0UHJvZmlsZUluZm8iLCJkZXNjcmlwdGlvbiIsIlBvcHVwV2l0aEltYWdlIiwiUG9wdXBEZWxldGUiLCJyZW1vdmVDYXJkIiwiaGFuZGxlRGVsZXRlIiwiYXZhdGFyUG9wdXAiLCJzZXRVc2VyQXZhdGFyIl0sIm1hcHBpbmdzIjoibUJBQ0EsSUFBTUEsRUFBbUIsQ0FDdkJDLGFBQWMsZUFDZEMsY0FBZSxnQkFDZkMscUJBQXNCLGlCQUN0QkMsb0JBQXFCLHlCQUNyQkMsZ0JBQWlCLDBCQUNqQkMsV0FBWSx3QkFpQ1JDLEVBQW9CQyxTQUFTQyxjQUFjLHdCQUMzQ0MsRUFBWUYsU0FBU0MsY0FBYyxvQkFFbkNFLEVBQWNILFNBQVNDLGNBQWMsa0JBQ3JDRyxFQUFhSixTQUFTQyxjQUFjLHdCQUNwQ0ksRUFBWUwsU0FBU0MsY0FBYywyQkFDbkNLLEVBQVdOLFNBQVNDLGNBQWMsMEJBR2xDTSxFQUFvQlAsU0FBU0MsY0FBYyxzQkFDM0NPLEVBQW1CUixTQUFTQyxjQUFjLDhCQUMxQ1EsRUFBZ0JULFNBQVNDLGNBQWMscUJBR3ZDUyxFQUFvQlYsU0FBU0MsY0FBYyw0QkFDM0NVLEVBQWlCWCxTQUFTQyxjQUFjLDJCQUN4Q1csRUFBbUJaLFNBQVNDLGNBQWMsOEJBRzFDWSxFQUFrQmIsU0FBU0MsY0FBYyw2QkFDekNhLEVBQWlCZCxTQUFTQyxjQUFjLDZCQUN4Q2MsRUFBYWYsU0FBU0MsY0FBYyw0QixzS0Nn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aEQsU0FDcENRLE1BQUssU0FBQzVELEdBQ0wwRyxFQUFTRSxZQUFZNUcsRUFBS08sS0FBTVAsRUFBS3FILFlBQWFySCxFQUFLb0QsUUFDdkRnQyxHQUFjLEVBQU8zSCxNQUV0Qm1HLE1BQUssV0FDSjhELEdBQVkxRixXQUVibUMsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixTQUlwQnNELEdBQVlmLG9CQUNadEosRUFBaUJpQyxpQkFBaUIsU0FBUyxXQUN6Q29JLEdBQVkvQixXIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL0ZPUk0gVkFMSURBVElPTiBPQkpFQ1RcclxuY29uc3QgdmFsaWRhdGlvbk9iamVjdCA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcblxyXG4vL0VMRU1FTlRTIEFSUkFZXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhdGVtYXIuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG4vL1ZBUklBQkxFU1xyXG4vL2NhcmQgY29udGFpbmVyXHJcbmNvbnN0IGVsZW1lbnRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fY29udGFpbmVyXCIpO1xyXG5jb25zdCBhdmF0YXJJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcclxuLy9pbnB1dHNcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3Byb2Zlc3Npb25cIik7XHJcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcclxuY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF90eXBlX2pvYlwiKTtcclxuXHJcbi8vT3BlbiBidXR0b25zXHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcclxuY29uc3QgYXZhdGFyRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWNvbnRhaW5lclwiKTtcclxuY29uc3QgY2FyZEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcclxuXHJcbi8vU2F2ZSBidXR0b25zXHJcbmNvbnN0IHByb2ZpbGVTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uX3R5cGVfZWRpdFwiKTtcclxuY29uc3QgY2FyZFNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25fdHlwZV9hZGRcIik7XHJcbmNvbnN0IGF2YXRhclNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25fdHlwZV9hdmF0YXJcIik7XHJcblxyXG4vL2Zvcm1zXHJcbmNvbnN0IGZvcm1TYXZlUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fdHlwZV9wcm9maWxlXCIpO1xyXG5jb25zdCBmb3JtQWRkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fdHlwZV9lbGVtZW50XCIpO1xyXG5jb25zdCBmb3JtQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX2F2YXRhclwiKTtcclxuXHJcbi8vRVhQT1JUU1xyXG5leHBvcnQge1xyXG4gIHZhbGlkYXRpb25PYmplY3QsXHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGVsZW1lbnRzQ29udGFpbmVyLFxyXG4gIGF2YXRhckltZyxcclxuICBwcm9maWxlSm9iLFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gIGF2YXRhckVkaXRCdXR0b24sXHJcbiAgY2FyZEFkZEJ1dHRvbixcclxuICBwcm9maWxlU2F2ZUJ1dHRvbixcclxuICBjYXJkU2F2ZUJ1dHRvbixcclxuICBhdmF0YXJTYXZlQnV0dG9uLFxyXG4gIG5hbWVJbnB1dCxcclxuICBqb2JJbnB1dCxcclxuICBmb3JtU2F2ZVByb2ZpbGUsXHJcbiAgZm9ybUFkZEVsZW1lbnQsXHJcbiAgZm9ybUF2YXRhcixcclxufTtcclxuIiwiLy9DbGFzc1xyXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihvYmplY3QsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gb2JqZWN0LmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IG9iamVjdC5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBvYmplY3QuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IG9iamVjdC5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gb2JqZWN0LmVycm9yQ2xhc3M7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIGlucHV0LmlkICsgXCItZXJyb3JcIik7XHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG5cclxuICAgIGVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIGlucHV0LmlkICsgXCItZXJyb3JcIik7XHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XHJcblxyXG4gICAgZXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9pc1ZhbGlkKGlucHV0KSB7XHJcbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9idXR0b25TdGF0ZShpbnB1dHMsIGJ1dHRvbikge1xyXG4gICAgY29uc3QgdmFsaWQgPSBpbnB1dHMuZXZlcnkoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiBpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2Rpc2FibGVCdXR0b24oYnV0dG9uKSB7XHJcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBpbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsICgpID0+IHtcclxuICAgICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbihidXR0b24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fYnV0dG9uU3RhdGUoaW5wdXRzLCBidXR0b24pO1xyXG4gICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faXNWYWxpZChpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uU3RhdGUoaW5wdXRzLCBidXR0b24pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuIiwiLy9DYXJkIGNsYXNzXHJcbmNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGVsZW1lbnRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVCdXR0b24pIHtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2VsZW1lbnRTZWxlY3RvciA9IGVsZW1lbnRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUJ1dHRvbjtcclxuICB9XHJcblxyXG4gIGlkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gIH1cclxuICBfZ2V0Q2FyZFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgZWxlbWVudHNUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZWxlbWVudFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudDtcclxuICAgIHJldHVybiBlbGVtZW50c1RlbXBsYXRlO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2VCdXR0b24oZXZlbnQpIHtcclxuICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICAvLyBfaGFuZGxlRGVsZXRlQnV0dG9uKCkge1xyXG4gIC8vICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcclxuICAvLyB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IGVsZW1lbnRzSW1hZ2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2ltYWdlXCIpO1xyXG4gICAgY29uc3QgZWxlbWVudHNMaWtlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlXCIpO1xyXG4gICAgY29uc3QgZWxlbWVudHNEZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RyYXNoXCIpO1xyXG5cclxuICAgIC8vaGFuZGxpbmcgdGhlIGxpa2UgZXZlbnRcclxuICAgIGVsZW1lbnRzTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PlxyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKGV2ZW50KVxyXG4gICAgKTtcclxuXHJcbiAgICAvL2hhbmRsaW5nIGRlbGV0ZSBldmVudFxyXG4gICAgZWxlbWVudHNEZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbih0aGlzLmlkKCkpXHJcbiAgICApO1xyXG5cclxuICAgIC8vaGFuZGxpbmcgaW1hZ2UgcG9wdXBcclxuICAgIGVsZW1lbnRzSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRDYXJkVGVtcGxhdGUoKVxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faXRlbVwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgY29uc3QgZWxlbWVudHNJbWFnZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faW1hZ2VcIik7XHJcbiAgICBjb25zdCBlbGVtZW50c1RpdGxlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190aXRsZVwiKTtcclxuXHJcbiAgICAvL2luZm9ybWF0aW9uIGZvciB0aGUgY3JlYXRlZCBlbGVtZW50XHJcbiAgICBlbGVtZW50c1RpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIGVsZW1lbnRzSW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3RoaXMuX2xpbmt9KWA7XHJcbiAgICBlbGVtZW50c0ltYWdlLmFsdCA9IGBQaWN0dXJlIG9mICR7dGhpcy5fbmFtZX1gO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX2FjdGl2ZVwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9hY3RpdmVcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvL2Nsb3NlIHBvcHVwIG9uIGVzY2FwZVxyXG4gIF9oYW5kbGVFc2NDbG9zZShldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycyhldmVudCkge1xyXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnRuXCIpO1xyXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9hY3RpdmVcIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEhhbmRsZXIgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gc3VibWl0SGFuZGxlcjtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcclxuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKSk7XHJcbiAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGZvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19pbWFnZS10aXRsZVwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gYFBpY3R1cmUgb2YgJHtuYW1lfWA7XHJcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGVsZW1lbnRzQ29udGFpbmVyKSB7XHJcbiAgICB0aGlzLl9pdGVtQXJyYXkgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jYXJkQ29udGFpbmVyID0gZWxlbWVudHNDb250YWluZXI7XHJcbiAgfVxyXG5cclxuICByZW5kZXJlcigpIHtcclxuICAgIHRoaXMuX2l0ZW1BcnJheS5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpbnB1dCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oY2FyZCkge1xyXG4gICAgdGhpcy5fY2FyZENvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcclxuIiwiY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgb2NjdXBhdGlvbiwgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fb2NjdXBhdGlvbiA9IG9jY3VwYXRpb247XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIG9jY3VwYXRpb246IHRoaXMuX29jY3VwYXRpb24udGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuYW1lLCBvY2N1cGF0aW9uLCBhdmF0YXIpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fb2NjdXBhdGlvbi50ZXh0Q29udGVudCA9IG9jY3VwYXRpb247XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxuXHJcbiAgLy9HRVQgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cElkL3VzZXJzL21lXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxuXHJcbiAgZ2V0QXBwSW5mbygpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5nZXRVc2VySW5mbygpXSk7XHJcbiAgfVxyXG5cclxuICAvL1BPU1QgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cElkL2NhcmRzXHJcbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG5cclxuICAvL0RFTEVURSBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwSWQvY2FyZHMvY2FyZElkXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSUQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJRH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG5cclxuICAvL1BVVCBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwSWQvY2FyZHMvbGlrZXMvY2FyZElkXHJcbiAgYWRkTGlrZVN0YXR1cyhjYXJkSUQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJRH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG5cclxuICAvL0RFTEVURSBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwSWQvY2FyZHMvbGlrZXMvY2FyZElkXHJcbiAgcmVtb3ZlTGlrZVN0YXR1cyhjYXJkSUQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJRH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG5cclxuICAvL1BBVENIIGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXBJZC91c2Vycy9tZVxyXG4gIHNldFByb2ZpbGVJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgICApXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcblxyXG4gIC8vUEFUQ0ggaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cElkL3VzZXJzL21lL2F2YXRhclxyXG4gIHNldFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBpO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3Rvciwgc3VibWl0SGFuZGxlciB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRGVsZXRlKCkge1xyXG4gICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIG9wZW4oY2FyZERhdGEsIGNhcmRJdGVtKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9kYXRhID0gY2FyZERhdGE7XHJcbiAgICB0aGlzLl9jYXJkSXRlbSA9IGNhcmRJdGVtO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIC8vRGVsZXRlIENhcmRcclxuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcih0aGlzLl9kYXRhKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cERlbGV0ZTtcclxuIiwiLy9TQVZJTkcuLi4gVEVYVCBPTiBMT0FEXHJcbmZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nLCBwb3B1cEJ1dHRvbikge1xyXG4gIGlmIChpc0xvYWRpbmcpIHtcclxuICAgIHBvcHVwQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICB9IGVsc2Uge1xyXG4gICAgcG9wdXBCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVkXCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyByZW5kZXJMb2FkaW5nIH07XHJcbiIsIi8vSW1wb3J0c1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQge1xyXG4gIHZhbGlkYXRpb25PYmplY3QsXHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGVsZW1lbnRzQ29udGFpbmVyLFxyXG4gIGF2YXRhckltZyxcclxuICBwcm9maWxlSm9iLFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gIGF2YXRhckVkaXRCdXR0b24sXHJcbiAgY2FyZEFkZEJ1dHRvbixcclxuICBwcm9maWxlU2F2ZUJ1dHRvbixcclxuICBjYXJkU2F2ZUJ1dHRvbixcclxuICBhdmF0YXJTYXZlQnV0dG9uLFxyXG4gIG5hbWVJbnB1dCxcclxuICBqb2JJbnB1dCxcclxuICBmb3JtU2F2ZVByb2ZpbGUsXHJcbiAgZm9ybUFkZEVsZW1lbnQsXHJcbiAgZm9ybUF2YXRhcixcclxufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NjcmlwdHMvbW9kdWxlcy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9zY3JpcHRzL21vZHVsZXMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vc2NyaXB0cy9tb2R1bGVzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL21vZHVsZXMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL3NjcmlwdHMvbW9kdWxlcy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vc2NyaXB0cy9tb2R1bGVzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3NjcmlwdHMvbW9kdWxlcy9BcGkuanNcIjtcclxuaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9zY3JpcHRzL21vZHVsZXMvUG9wdXAuanNcIjtcclxuaW1wb3J0IFBvcHVwRGVsZXRlIGZyb20gXCIuLi9zY3JpcHRzL21vZHVsZXMvUG9wdXBEZWxldGUuanNcIjtcclxuaW1wb3J0IHsgcmVuZGVyTG9hZGluZyB9IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL3V0aWxzLmpzXCI7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTBcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjViYTczMTQ4LWUyZmMtNGM1NS04ZjcwLWIxYTE4ZGIyOWY3NVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyAvL1NFUlZFUiBJTkZPUk1BVElPTlxyXG4vLyBQcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbi8vICAgICAudGhlbigoW3Jlc1VzZXJJbmZvLCBkYXRhSW5pdGlhbENhcmRzXSkgPT4ge1xyXG4vLyAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXNVc2VySW5mbyk7XHJcblxyXG5hcGkuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigocmVzKSA9PiB7XHJcbiAgLy9MT0FESU5HIEVMRU1FTlRTIFRPIFBBR0VcclxuICBjb25zdCBjYXJkcyA9IG5ldyBTZWN0aW9uKFxyXG4gICAge1xyXG4gICAgICBpdGVtczogcmVzLFxyXG4gICAgICByZW5kZXJlcjogKGlucHV0KSA9PiB7XHJcbiAgICAgICAgY2FyZHMuYWRkSXRlbShjcmVhdGVDYXJkKGlucHV0KSk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgZWxlbWVudHNDb250YWluZXJcclxuICApO1xyXG4gIGNhcmRzLnJlbmRlcmVyKCk7XHJcblxyXG4gIC8vQUREIFBPUFVQXHJcbiAgY29uc3QgYWRkRWxlbWVudFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9hZGRcIixcclxuICAgIHN1Ym1pdEhhbmRsZXI6IChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgICByZW5kZXJMb2FkaW5nKHRydWUsIGNhcmRTYXZlQnV0dG9uKTtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLmFkZENhcmQoaW5wdXRWYWx1ZXMpXHJcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgIGNhcmRzLmFkZEl0ZW0oXHJcbiAgICAgICAgICAgIGNyZWF0ZUNhcmQoe1xyXG4gICAgICAgICAgICAgIG5hbWU6IGRhdGEudGl0bGUsXHJcbiAgICAgICAgICAgICAgbGluazogZGF0YS5pbWFnZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZW5kZXJMb2FkaW5nKGZhbHNlLCBjYXJkU2F2ZUJ1dHRvbik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBhZGRFbGVtZW50UG9wdXAuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgLy9DcmVhdGUgQ2FyZHNcclxuICBmdW5jdGlvbiBjcmVhdGVDYXJkKGlucHV0KSB7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICAgIGlucHV0LFxyXG4gICAgICBcIi5lbGVtZW50cy10ZW1wbGF0ZVwiLFxyXG4gICAgICBoYW5kQ2FyZENsaWNrLFxyXG4gICAgICBoYW5kbGVEZWxldGVCdXR0b25cclxuICAgICk7XHJcbiAgICBjb25zdCBjYXJkSXRlbSA9IGNhcmQuZ2VuZXJhdGVDYXJkKHVzZXJJbmZvLmlkKCkpO1xyXG4gICAgcmV0dXJuIGNhcmRJdGVtO1xyXG4gIH1cclxuXHJcbiAgYWRkRWxlbWVudFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgY2FyZEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgYWRkRWxlbWVudFBvcHVwLm9wZW4oKTtcclxuICB9KTtcclxufSk7XHJcblxyXG4vL0RlbGV0ZSBDYXJkc1xyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVCdXR0b24oY2FyZElEKSB7XHJcbiAgcG9wdXBEZWxldGUub3BlbigpO1xyXG59XHJcblxyXG4vL0hBTkRMRSBDQVJEIENMSUNLXHJcbmZ1bmN0aW9uIGhhbmRDYXJkQ2xpY2sobmFtZSwgbGluaykge1xyXG4gIHBvcHVwSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcclxufVxyXG5cclxuLy9SRUNFSVZFIFVTRVIgSU5GT1JNQVRJT04gRlJPTSBTRVJWRVJcclxuYXBpLmdldFVzZXJJbmZvKCkudGhlbigocmVzKSA9PiB7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5hYm91dCwgcmVzLmF2YXRhcik7XHJcbn0pO1xyXG5cclxuLy9VU0VSIElORk9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWU6IHByb2ZpbGVOYW1lLFxyXG4gIG9jY3VwYXRpb246IHByb2ZpbGVKb2IsXHJcbiAgYXZhdGFyOiBhdmF0YXJJbWcsXHJcbn0pO1xyXG5cclxuLy9GT1JNIFZBTElEQVRPUlNcclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uT2JqZWN0LFxyXG4gIGZvcm1TYXZlUHJvZmlsZVxyXG4pO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbk9iamVjdCwgZm9ybUFkZEVsZW1lbnQpO1xyXG5cclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25PYmplY3QsIGZvcm1BdmF0YXIpO1xyXG5cclxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL0VESVQgUFJPRklMRSBQT1BVUFxyXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9lZGl0XCIsXHJcbiAgc3VibWl0SGFuZGxlcjogKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgICByZW5kZXJMb2FkaW5nKHRydWUsIHByb2ZpbGVTYXZlQnV0dG9uKTtcclxuICAgIGFwaVxyXG4gICAgICAuc2V0UHJvZmlsZUluZm8oe1xyXG4gICAgICAgIG5hbWU6IGlucHV0VmFsdWVzLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGlucHV0VmFsdWVzLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGF2YXRhcjogaW5wdXRWYWx1ZXMuYXZhdGFyLFxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5kZXNjcmlwdGlvbiwgZGF0YS5hdmF0YXIpO1xyXG4gICAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsIHByb2ZpbGVTYXZlQnV0dG9uKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCBpbnB1dFZhbHVlcyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZUlucHV0LnZhbHVlID0gaW5wdXRWYWx1ZXMubmFtZTtcclxuICBqb2JJbnB1dC52YWx1ZSA9IGlucHV0VmFsdWVzLm9jY3VwYXRpb247XHJcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG4vL0lNQUdFIFBPUFVQXHJcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9pbWFnZVwiKTtcclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy9UUkFTSCBQT1BVUFxyXG5jb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cERlbGV0ZSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9kZWxldGVcIixcclxuICBzdWJtaXRIYW5kbGVyOiAoY2FyZElEKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLnJlbW92ZUNhcmQoY2FyZElEKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBEZWxldGUuaGFuZGxlRGVsZXRlKCk7XHJcbiAgICAgICAgcG9wdXBEZWxldGUuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG59KTtcclxucG9wdXBEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vQVZBVEFSIFBPUFVQXHJcbmNvbnN0IGF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsXHJcbiAgc3VibWl0SGFuZGxlcjogKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgICByZW5kZXJMb2FkaW5nKHRydWUsIGF2YXRhclNhdmVCdXR0b24pO1xyXG4gICAgYXBpXHJcbiAgICAgIC5zZXRVc2VyQXZhdGFyKHsgYXZhdGFyOiBpbnB1dFZhbHVlcy5hdmF0YXIgfSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuZGVzY3JpcHRpb24sIGRhdGEuYXZhdGFyKTtcclxuICAgICAgICByZW5kZXJMb2FkaW5nKGZhbHNlLCBhdmF0YXJTYXZlQnV0dG9uKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxufSk7XHJcbmF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmF2YXRhckVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhdmF0YXJQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9